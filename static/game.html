<!doctype html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/static/img-res/favicon.ico">
</head>
<body>
    <div class="holder-first row-fluid">
        <div class="container">
            <img src="/static/img-res/logo.png" width="100" height="100" class="logo">
            <h1 align="center"> Multiplayer Quiz Game </h1>
            <div class="row" id="game-window">
                <div class="col-lg-3 col-md-3 col-sm-6 col-xs-6 pull-left">
                    <table id="users"></table>
                </div>
                <button id="ready-to-go" class="btn btn-success btn-lg">Ready to go</button>
            </div>
            <div class="row" id="game">
                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" id="ef-playerlist">

                </div>
                <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" id="ef-game">

                </div>
                <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" id="ef-abilities">
                    <p class="ab-btns" id="ef-pd">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARQSURBVFhHzZhLbBtVFIbDQ0iwARawACQ2PFZsEBIrhARCYoHaOjN+NEChSDxKVQlFqN0ERRRUqaAUiuPxY5zQplEqUppWRGoDIdieV1M5IWliYpoGQ1SblriOnXhm/J7DHecKJc5dJPWMzSf9C9vX5/y6nnPuuW6pl5DT8izHUHBbctGjOIx5CD57b3oxoEFuDmD51JZUSZ4AqcehCB7qORzGHCa8r90n+ByKVpYBVn4gmiFpUegoiazjAg5jHryL3hMTXTkoLRGNkFS62Qto19Wgu/VJHMY8JNYxXViZB1AkohmS/hg7WEC73odDmIfA0E+H+z9QQSsApE8TzdSqkGCB99hUyU0/isOYh+CzfZ1aGClDHu0gwQxJv19sV0WvrQuHMI/IoPUewWtf0UoZgNULRDO1Uhfd6NmzZXmm7UEcxjxCTCt17ZcvFSiniWZIipzfr/A+ugOHMBfR7xByyxFUHGGimVplF5z67qWkLvpeHMI8xO7Wx8dP7M2vFcd3REO1mjrzbpZ30+/jEOYieujPl+aGSlD4k2imVsvRLkCFkQh0vng3DmEe0Nl5J/qpkpVCEhXHKNHQRvVB+NRbWa7bQuMQ5oISvRq9+KkMlSzBzGYlrxzVT40oQMsdOIS5SKx9RPlnAkCdIhpaL+3WSRjvfV0Oui2v4K+bi8hYHr7U80YOtDxA5izR1HrdCH9GHrFqFHJRDE5RH5zHeujGlYECFONEQ9tTH8wNH1BEr/2nwUHrXTjF7aM/Q+hZipfVBEA2QEi4PcXGDuVRsc3o4xpOUR9Bhnph5txBBSoqStC/KeF2lLh8uITMxbnj9EM4fP1IfsfgakJEUzM6PQhJt6rk7FFN8FozgW76CRy6fka91vsldneuunuZ88TEW9HqtW8AmZO5bup5HNoYODf94fWwP49GYWLirUhd9IDI2pUgY9mBwxoHOkNnSO2hVsVsDEAWN5kr/t2D+mGbzHuo/ThkY9FvZlNnPkIFlEPDw8AGc/rtbXJgryL67Mfw8saD2s/plescKqDfNpjTUn0we26fPkEPNeyoqyXw1c4H1goI7V5NAc2PtBdEn+OyPn3j5Y2H89Dt8cmT6HRBDXydOXTvLYusLaZ3ALy08Ww8XYL/mbv56xENvX8rcNzyGF7aHFA/ezky3IFGLxkZWztd0tFj1V4XdNLP4GXNQx+95KVJNHpNV83JMRcIrF0NMZaX8JLmITh3PDLeuwePXt9DPu6DSz1tKuel38RLmkv1XhIdKkLhr2qvC/e/LfOs9RP8cXPRLz/oOVuuFFOgrf4Is2f3yajXfYs/bj5BF9U6P/YFurRn4OrIx6rkc/xsyNBpFKJ/93g+PQephWHU6+wRw4ZOI+Ccu54K97+XU5LTGjpfE4YOnUYgsFbX1dEjFcnfljZ06DQC/X8V3kOraD4sGj50GgHPWN9Bc18l5KZ24rf+X/BuakLw0QfwywbR0vIvOddb7sSI7roAAAAASUVORK5CYII=">
                    </p>
                    <p class="ab-btns" id="ef-re">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARQSURBVFhHzZhLbBtVFIbDQ0iwARawACQ2PFZsEBIrhARCYoHaOjN+NEChSDxKVQlFqN0ERRRUqaAUiuPxY5zQplEqUppWRGoDIdieV1M5IWliYpoGQ1SblriOnXhm/J7DHecKJc5dJPWMzSf9C9vX5/y6nnPuuW6pl5DT8izHUHBbctGjOIx5CD57b3oxoEFuDmD51JZUSZ4AqcehCB7qORzGHCa8r90n+ByKVpYBVn4gmiFpUegoiazjAg5jHryL3hMTXTkoLRGNkFS62Qto19Wgu/VJHMY8JNYxXViZB1AkohmS/hg7WEC73odDmIfA0E+H+z9QQSsApE8TzdSqkGCB99hUyU0/isOYh+CzfZ1aGClDHu0gwQxJv19sV0WvrQuHMI/IoPUewWtf0UoZgNULRDO1Uhfd6NmzZXmm7UEcxjxCTCt17ZcvFSiniWZIipzfr/A+ugOHMBfR7xByyxFUHGGimVplF5z67qWkLvpeHMI8xO7Wx8dP7M2vFcd3REO1mjrzbpZ30+/jEOYieujPl+aGSlD4k2imVsvRLkCFkQh0vng3DmEe0Nl5J/qpkpVCEhXHKNHQRvVB+NRbWa7bQuMQ5oISvRq9+KkMlSzBzGYlrxzVT40oQMsdOIS5SKx9RPlnAkCdIhpaL+3WSRjvfV0Oui2v4K+bi8hYHr7U80YOtDxA5izR1HrdCH9GHrFqFHJRDE5RH5zHeujGlYECFONEQ9tTH8wNH1BEr/2nwUHrXTjF7aM/Q+hZipfVBEA2QEi4PcXGDuVRsc3o4xpOUR9Bhnph5txBBSoqStC/KeF2lLh8uITMxbnj9EM4fP1IfsfgakJEUzM6PQhJt6rk7FFN8FozgW76CRy6fka91vsldneuunuZ88TEW9HqtW8AmZO5bup5HNoYODf94fWwP49GYWLirUhd9IDI2pUgY9mBwxoHOkNnSO2hVsVsDEAWN5kr/t2D+mGbzHuo/ThkY9FvZlNnPkIFlEPDw8AGc/rtbXJgryL67Mfw8saD2s/plescKqDfNpjTUn0we26fPkEPNeyoqyXw1c4H1goI7V5NAc2PtBdEn+OyPn3j5Y2H89Dt8cmT6HRBDXydOXTvLYusLaZ3ALy08Ww8XYL/mbv56xENvX8rcNzyGF7aHFA/ezky3IFGLxkZWztd0tFj1V4XdNLP4GXNQx+95KVJNHpNV83JMRcIrF0NMZaX8JLmITh3PDLeuwePXt9DPu6DSz1tKuel38RLmkv1XhIdKkLhr2qvC/e/LfOs9RP8cXPRLz/oOVuuFFOgrf4Is2f3yajXfYs/bj5BF9U6P/YFurRn4OrIx6rkc/xsyNBpFKJ/93g+PQephWHU6+wRw4ZOI+Ccu54K97+XU5LTGjpfE4YOnUYgsFbX1dEjFcnfljZ06DQC/X8V3kOraD4sGj50GgHPWN9Bc18l5KZ24rf+X/BuakLw0QfwywbR0vIvOddb7sSI7roAAAAASUVORK5CYII=">
                    </p>
                    <p class="ab-btns" id="ef-mt">
                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARQSURBVFhHzZhLbBtVFIbDQ0iwARawACQ2PFZsEBIrhARCYoHaOjN+NEChSDxKVQlFqN0ERRRUqaAUiuPxY5zQplEqUppWRGoDIdieV1M5IWliYpoGQ1SblriOnXhm/J7DHecKJc5dJPWMzSf9C9vX5/y6nnPuuW6pl5DT8izHUHBbctGjOIx5CD57b3oxoEFuDmD51JZUSZ4AqcehCB7qORzGHCa8r90n+ByKVpYBVn4gmiFpUegoiazjAg5jHryL3hMTXTkoLRGNkFS62Qto19Wgu/VJHMY8JNYxXViZB1AkohmS/hg7WEC73odDmIfA0E+H+z9QQSsApE8TzdSqkGCB99hUyU0/isOYh+CzfZ1aGClDHu0gwQxJv19sV0WvrQuHMI/IoPUewWtf0UoZgNULRDO1Uhfd6NmzZXmm7UEcxjxCTCt17ZcvFSiniWZIipzfr/A+ugOHMBfR7xByyxFUHGGimVplF5z67qWkLvpeHMI8xO7Wx8dP7M2vFcd3REO1mjrzbpZ30+/jEOYieujPl+aGSlD4k2imVsvRLkCFkQh0vng3DmEe0Nl5J/qpkpVCEhXHKNHQRvVB+NRbWa7bQuMQ5oISvRq9+KkMlSzBzGYlrxzVT40oQMsdOIS5SKx9RPlnAkCdIhpaL+3WSRjvfV0Oui2v4K+bi8hYHr7U80YOtDxA5izR1HrdCH9GHrFqFHJRDE5RH5zHeujGlYECFONEQ9tTH8wNH1BEr/2nwUHrXTjF7aM/Q+hZipfVBEA2QEi4PcXGDuVRsc3o4xpOUR9Bhnph5txBBSoqStC/KeF2lLh8uITMxbnj9EM4fP1IfsfgakJEUzM6PQhJt6rk7FFN8FozgW76CRy6fka91vsldneuunuZ88TEW9HqtW8AmZO5bup5HNoYODf94fWwP49GYWLirUhd9IDI2pUgY9mBwxoHOkNnSO2hVsVsDEAWN5kr/t2D+mGbzHuo/ThkY9FvZlNnPkIFlEPDw8AGc/rtbXJgryL67Mfw8saD2s/plescKqDfNpjTUn0we26fPkEPNeyoqyXw1c4H1goI7V5NAc2PtBdEn+OyPn3j5Y2H89Dt8cmT6HRBDXydOXTvLYusLaZ3ALy08Ww8XYL/mbv56xENvX8rcNzyGF7aHFA/ezky3IFGLxkZWztd0tFj1V4XdNLP4GXNQx+95KVJNHpNV83JMRcIrF0NMZaX8JLmITh3PDLeuwePXt9DPu6DSz1tKuel38RLmkv1XhIdKkLhr2qvC/e/LfOs9RP8cXPRLz/oOVuuFFOgrf4Is2f3yajXfYs/bj5BF9U6P/YFurRn4OrIx6rkc/xsyNBpFKJ/93g+PQephWHU6+wRw4ZOI+Ccu54K97+XU5LTGjpfE4YOnUYgsFbX1dEjFcnfljZ06DQC/X8V3kOraD4sGj50GgHPWN9Bc18l5KZ24rf+X/BuakLw0QfwywbR0vIvOddb7sSI7roAAAAASUVORK5CYII=">
                    </p>
                </div>
            </div>
        </div>
    </div>
<script>
//Establish the WebSocket connection and set up event handlers
function findGetParameter(parameterName) {
    var result = null,
        tmp = [];
    var items = location.search.substr(1).split("&");
    for (var index = 0; index < items.length; index++) {
        tmp = items[index].split("=");
        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
    }
    return result;
}

$(document).ready(function(){
    // #game-window
    // open websocket and check for response
    var gameRoom = findGetParameter('room');
    var webSocket = new WebSocket("ws://" + location.hostname + ":" + location.port + "/api/game_socket/"+gameRoom);//for testing
    webSocket.onopen = function(e) { 
        console.log(e.data) 
    }; 
    webSocket.onmessage = function (e) {
        console.log(e.data);
    };
    webSocket.onerror = function(evt) {
        alert("Eroare");
    }; 
   // webSocket.send("Ready to game!");
   $("#ready-to-go").click(function(){
        $("#ready-to-go").toggleClass('btn-success btn-danger');
        $("#ready-to-go").html('Se asteapta restul jucatorilor...');
   });
});
document.body.addEventListener('click', checkEvent, true); 
function checkEvent(e) {
    console.log(e);
}
</script>
</body>
</html>